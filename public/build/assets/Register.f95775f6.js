import{_ as D,a as I}from"./DashboardContent.40bbe9b8.js";import{_ as N}from"./Container.b310b897.js";import{_ as P}from"./Divider.74f8227d.js";import{_ as A}from"./Base.a4aae221.js";import{_ as H,a as M}from"./Row.0a450704.js";import{_ as R}from"./Button.vue_vue_type_script_setup_true_lang.865fb264.js";import{f as W,g as E,m as K,e as v,w as l,p as L,o as p,d,b as e,u as s,j as g,c as T,F as Z,k as S}from"./app.b834e386.js";import{u as G}from"./useSelectFormCourseOptions.41c3626a.js";import{u as J}from"./useSelectFormSlotOptions.7435981b.js";import{u as Q}from"./usePlaceholderPerson.c4d28804.js";import"./_plugin-vue_export-helper.cdc0426e.js";import"./H1.bd5ff1ae.js";const X=c=>{const r=[];return c.forEach(a=>{r.push({value:a.id,label:a.name})}),r},_e=W({__name:"Register",props:{courses:{type:Object,required:!0},events:{type:Object,required:!0}},setup(c){const r=E({}),a=E({event_id:0}),{courses:q,events:h}=c,m=u=>h.find(o=>o.id===u),V=G(q,!0),O=X(h),w=K(()=>{const u=m(a.value.event_id);return!u||!u.slots?[]:J(u.slots)}),_=Q(),z=async()=>{S.Inertia.post("/dashboard/admin/register",r.value)},B=async()=>{S.Inertia.post("/dashboard/admin/assign",a.value)};return(u,o)=>{const f=I,t=H,n=L("FormKit"),b=R,y=M,F=A,U=P,j=N,$=D;return p(),v($,null,{title:l(()=>[d("User registrieren/zuweisen")]),default:l(()=>[e(j,null,{default:l(()=>[e(F,null,{default:l(()=>[e(n,{type:"form",id:"register",onSubmit:z,actions:!1,modelValue:r.value,"onUpdate:modelValue":o[1]||(o[1]=i=>r.value=i)},{default:l(()=>[e(y,null,{default:l(()=>[e(t,null,{default:l(()=>[e(f,null,{default:l(()=>[d("User registrieren")]),_:1})]),_:1}),e(t,null,{default:l(()=>[e(n,{type:"text",name:"firstname",label:"Vorname",placeholder:s(_).firstname,validation:"required|length:2,255"},null,8,["placeholder"])]),_:1}),e(t,null,{default:l(()=>[e(n,{type:"text",name:"lastname",label:"Nachname",placeholder:s(_).lastname,validation:"required|length:2,255"},null,8,["placeholder"])]),_:1}),e(t,null,{default:l(()=>[e(n,{type:"email",name:"email",label:"E-Mail",placeholder:s(_).email,validation:"required|email|length:3,255"},null,8,["placeholder"])]),_:1}),e(t,null,{default:l(()=>[e(n,{type:"email",name:"email_confirm",label:"E-Mail best\xE4tigen",placeholder:s(_).email,validation:"required|confirm"},null,8,["placeholder"])]),_:1}),e(t,null,{default:l(()=>[e(n,{type:"select",name:"course_id",label:"Studiengang",placeholder:"W\xE4hle einen Studiengang aus",validation:"required",options:s(V)},null,8,["options"])]),_:1}),e(t,null,{default:l(()=>[e(n,{type:"file",name:"avatar",label:"Avatar hochladen",validation:"file|image|mimes:jpeg,jpg,png,gif"})]),_:1}),e(t,null,{default:l(()=>[e(n,{type:"submit",label:"Registrieren"})]),_:1}),e(t,null,{default:l(()=>[e(b,{onClick:o[0]||(o[0]=i=>r.value={}),theme:"danger",class:"flex-1 text-center"},{default:l(()=>[d(" Formular zur\xFCcksetzen ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(F,null,{default:l(()=>[e(n,{type:"form",id:"assign",onSubmit:B,actions:!1,modelValue:a.value,"onUpdate:modelValue":o[3]||(o[3]=i=>a.value=i)},{default:l(()=>[e(y,null,{default:l(()=>{var i,x,k,C;return[e(t,null,{default:l(()=>[e(f,null,{default:l(()=>[d(" User zuweisen (Event & Slot Formulare werden nicht ber\xFCcksichtigt) ")]),_:1})]),_:1}),e(t,null,{default:l(()=>[e(n,{type:"email",name:"email",label:"E-Mail",placeholder:s(_).email,validation:"required|email|length:3,255"},null,8,["placeholder"])]),_:1}),e(t,null,{default:l(()=>[e(n,{type:"select",name:"event_id",label:"Event",placeholder:"W\xE4hle ein Event aus",validation:"required",options:s(O)},null,8,["options"])]),_:1}),(x=(i=m(a.value.event_id))==null?void 0:i.slots)!=null&&x.length?(p(),v(t,{key:0},{default:l(()=>[e(n,{type:"select",name:"slot_id",label:"Slot",placeholder:"W\xE4hle einen Slot aus",validation:"required",options:w.value},null,8,["options"])]),_:1})):g("",!0),m(a.value.event_id)&&((k=m(a.value.event_id))==null?void 0:k.consider_alcohol)?(p(),T(Z,{key:1},[e(U),e(t,null,{default:l(()=>[e(f,null,{default:l(()=>[d("Deine Daten")]),_:1})]),_:1}),(C=m(a.value.event_id))!=null&&C.consider_alcohol?(p(),v(t,{key:0},{default:l(()=>[e(n,{type:"checkbox",name:"drinks_no_alcohol",label:"Ich trinke keinen Alkohol"})]),_:1})):g("",!0)],64)):g("",!0),e(t,null,{default:l(()=>[e(n,{type:"submit",label:"Zuweisen"})]),_:1}),e(t,null,{default:l(()=>[e(b,{onClick:o[2]||(o[2]=Y=>a.value={event_id:0}),theme:"danger",class:"flex-1 text-center"},{default:l(()=>[d(" Formular zur\xFCcksetzen ")]),_:1})]),_:1})]}),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})}}});export{_e as default};
