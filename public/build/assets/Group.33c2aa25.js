import{_ as L,a as b}from"./DashboardContent.40bbe9b8.js";import{_ as V}from"./Container.b310b897.js";import{_ as j}from"./Table.vue_vue_type_script_setup_true_lang.c722fc27.js";import{_ as x}from"./Base.a4aae221.js";import{_ as F,a as R}from"./Row.0a450704.js";import{f as k,g as _,m as B,h as T,e as p,w as e,p as G,o as d,d as f,t as I,b as t,j as N}from"./app.b834e386.js";import"./_plugin-vue_export-helper.cdc0426e.js";import"./H1.bd5ff1ae.js";import"./Button.vue_vue_type_script_setup_true_lang.865fb264.js";const J=k({__name:"Group",props:{courses:{type:Array,required:!0},group:{type:Object,required:!0},user:{type:Object,required:!0}},setup(r){const a=_({query:""}),{group:i}=r,u=_(i.registrations),c=B(()=>a.value.query?u.value?u.value.filter(o=>{var n,l,s;return((n=o.user)==null?void 0:n.firstname.toLowerCase().includes(a.value.query.toLowerCase()))||((l=o.user)==null?void 0:l.lastname.toLowerCase().includes(a.value.query.toLowerCase()))||((s=o.user)==null?void 0:s.email.toLowerCase().includes(a.value.query.toLowerCase()))}):[]:u.value),g=setInterval(async()=>{const o=await fetch("/api/events/"+i.event_id+"/registrations",{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}});if(o.ok){const n=await o.json();u.value=n.groups[i.id]}},5e3);return T(()=>{clearInterval(g)}),(o,n)=>{const l=b,s=F,m=G("FormKit"),v=R,y=x,C=j,w=V,h=L;return d(),p(h,null,{title:e(()=>[f(I(r.group.name),1)]),default:e(()=>[t(w,null,{default:e(()=>[t(y,null,{default:e(()=>[t(m,{type:"form",id:"assign",actions:!1,modelValue:a.value,"onUpdate:modelValue":n[0]||(n[0]=q=>a.value=q)},{default:e(()=>[t(v,null,{default:e(()=>[t(s,null,{default:e(()=>[t(l,null,{default:e(()=>[f("Filter")]),_:1})]),_:1}),t(s,null,{default:e(()=>[t(m,{type:"text",name:"query",label:"Suche"})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}),r.group.event&&c.value?(d(),p(C,{key:0,courses:r.courses,event:r.group.event,registrations:c.value,hideGroups:!0,user:r.user},null,8,["courses","event","registrations","user"])):N("",!0)]),_:1})]),_:1})}}});export{J as default};
