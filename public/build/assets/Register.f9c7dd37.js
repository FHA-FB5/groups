import{_ as E,a as H}from"./DashboardContent.40bbe9b8.js";import{_ as K}from"./Container.b310b897.js";import{_ as L}from"./Base.a4aae221.js";import{_ as M,a as j}from"./Row.0a450704.js";import{_ as q}from"./_plugin-vue_export-helper.cdc0426e.js";import{o,c as i,r as z,f as I,g as J,m as b,e as c,w as t,p as F,d as l,b as e,t as C,F as d,j as a,u as D,a as R,k as W}from"./app.b834e386.js";import{_ as G}from"./Divider.74f8227d.js";import{_ as P,a as Q,b as X}from"./Dt.64ce192b.js";import{_ as Y}from"./DateTimeString.vue_vue_type_script_setup_true_lang.5419d956.js";import{_ as Z}from"./DashboardCardLayout.vue_vue_type_script_setup_true_lang.f77f1bd3.js";import{u as ee}from"./useSelectFormSlotOptions.7435981b.js";import"./H1.bd5ff1ae.js";const te={},ne={class:"flex flex-col gap-6"};function oe(n,u){return o(),i("div",ne,[z(n.$slots,"default")])}const le=q(te,[["render",oe]]),ae=["innerHTML"],ue={layout:Z},ke=I({...ue,__name:"Register",props:{event:{type:Object,required:!0}},setup(n){const{event:u}=n,k=ee(u.slots),m=J({slot:0,drinks_no_alcohol:!1}),r=b(()=>{var s;return((s=u.slots)==null?void 0:s.length)&&m.value.slot?u.slots.find(f=>f.id===m.value.slot):null}),h=b(()=>{const s=[];return u.form&&s.push(...JSON.parse(u.form)),r.value&&r.value.form&&s.push(...JSON.parse(r.value.form)),s}),$=async()=>{W.Inertia.post("/dashboard/event/"+u.id+"/register",m.value)};return(s,f)=>{const y=H,_=M,p=P,v=Q,S=Y,V=X,g=F("FormKit"),w=G,N=F("FormKitSchema"),U=le,A=j,x=L,B=K,O=E;return o(),c(O,null,{title:t(()=>[l("Anmeldung zur Veranstaltung")]),default:t(()=>[e(B,null,{default:t(()=>[e(x,null,{default:t(()=>[e(g,{type:"form",id:"event-register",onSubmit:$,actions:!1,modelValue:m.value,"onUpdate:modelValue":f[0]||(f[0]=T=>m.value=T)},{default:t(()=>[e(A,null,{default:t(()=>[e(_,null,{default:t(()=>[e(y,null,{default:t(()=>[l("Eventdaten")]),_:1})]),_:1}),e(_,null,{default:t(()=>[e(V,null,{default:t(()=>[e(p,null,{default:t(()=>[l("Event")]),_:1}),e(v,null,{default:t(()=>[l(C(n.event.name),1)]),_:1}),n.event.registration_from?(o(),i(d,{key:0},[e(p,null,{default:t(()=>[l("Anmeldung ab")]),_:1}),e(v,null,{default:t(()=>[e(S,{value:n.event.registration_from,withClockSuffix:!0},null,8,["value"])]),_:1})],64)):a("",!0),n.event.registration_to?(o(),i(d,{key:1},[e(p,null,{default:t(()=>[l("Anmeldung bis")]),_:1}),e(v,null,{default:t(()=>[e(S,{value:n.event.registration_to,withClockSuffix:!0},null,8,["value"])]),_:1})],64)):a("",!0),r.value?(o(),i(d,{key:2},[r.value.maximum_participants?(o(),i(d,{key:0},[e(p,null,{default:t(()=>[l("Maximale Teilnehmerzahl")]),_:1}),e(v,null,{default:t(()=>[l(C(r.value.maximum_participants),1)]),_:1})],64)):a("",!0)],64)):a("",!0)]),_:1})]),_:1}),D(k).length?(o(),c(_,{key:0},{default:t(()=>[e(g,{type:"select",name:"slot",label:"Slot",placeholder:"W\xE4hle einen Slot aus",validation:"required",options:D(k)},null,8,["options"])]),_:1})):a("",!0),n.event.consider_alcohol||h.value.length?(o(),i(d,{key:1},[e(w),e(_,null,{default:t(()=>[e(y,null,{default:t(()=>[l("Deine Daten")]),_:1})]),_:1}),n.event.consider_alcohol?(o(),c(_,{key:0},{default:t(()=>[e(g,{type:"checkbox",name:"drinks_no_alcohol",label:"Ich trinke keinen Alkohol"})]),_:1})):a("",!0),h.value?(o(),c(U,{key:1},{default:t(()=>[e(N,{schema:h.value},null,8,["schema"])]),_:1})):a("",!0)],64)):a("",!0),e(_,null,{default:t(()=>[e(g,{type:"submit",label:"Anmelden"})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}),n.event.description?(o(),c(x,{key:0},{default:t(()=>[R("div",{class:"prose !max-w-full dark:prose-invert",innerHTML:n.event.description},null,8,ae)]),_:1})):a("",!0)]),_:1})]),_:1})}}});export{ke as default};
