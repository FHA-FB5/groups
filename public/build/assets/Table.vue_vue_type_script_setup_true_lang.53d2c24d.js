import{f as w,g as v,h as $,o,c as d,a as r,F as k,i as T,n as i,t as n,j as u,b as C,w as j,d as f,_ as A,m as E}from"./app.b834e386.js";const I={class:"px-4 sm:px-6 lg:px-8"},N={class:"flex flex-col"},z={class:"-mx-4 -my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},B={class:"inline-block min-w-full py-2 align-middle"},V={class:"shadow-sm ring-1 ring-black ring-opacity-5"},q={class:"min-w-full border-separate",style:{"border-spacing":"0"}},R=r("thead",{class:"bg-gray-50 dark:bg-gray-900"},[r("tr",null,[r("th",{scope:"col",class:"dark:bg-border-gray-700 border-b border-gray-300 bg-gray-50 bg-opacity-75 py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 backdrop-blur backdrop-filter dark:bg-gray-900 dark:text-gray-300 sm:pl-6 lg:pl-8"}," Name "),r("th",{scope:"col",class:"dark:bg-border-gray-700 border-b border-gray-300 bg-gray-50 bg-opacity-75 px-3 py-3.5 text-left text-sm font-semibold text-gray-900 backdrop-blur backdrop-filter dark:bg-gray-900 dark:text-gray-300"}," Hat Voraussetzungen "),r("th",{scope:"col",class:"dark:bg-border-gray-700 border-b border-gray-300 bg-gray-50 bg-opacity-75 px-3 py-3.5 text-left text-sm font-semibold text-gray-900 backdrop-blur backdrop-filter dark:bg-gray-900 dark:text-gray-300"}," Teilnehmer "),r("th",{scope:"col",class:"dark:bg-border-gray-700 border-b border-gray-300 bg-gray-50 bg-opacity-75 py-3.5 pl-3 pr-4 backdrop-blur backdrop-filter dark:bg-gray-900 dark:text-gray-300 sm:pr-6 lg:pr-8"},[r("span",{class:"sr-only"},"Anzeigen")])])],-1),L={class:"bg-white dark:bg-gray-800"},F={key:0},G={class:"sr-only"},rr=w({__name:"Table",props:{slots:{type:Object,required:!0}},setup(t){const{slots:g}=t,l=v({});g.forEach(s=>{var b;l.value[s.id]=((b=s.registrations)==null?void 0:b.length)||0});const y=setInterval(async()=>{const s=await fetch("/api/events/"+g[0].event_id+"/registrations-amount",{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}});if(s.ok){const b=await s.json();g.forEach(p=>{l.value[p.id]=b.slots[p.id]})}},5e3);return $(()=>{clearInterval(y)}),(s,b)=>{const p=A;return o(),d("div",I,[r("div",N,[r("div",z,[r("div",B,[r("div",V,[r("table",q,[R,r("tbody",L,[(o(!0),d(k,null,T(t.slots,(e,a)=>(o(),d("tr",{key:e.id},[r("td",{class:i([a!==t.slots.length-1?"border-b border-gray-200 dark:border-gray-700":"","whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 dark:text-gray-100 sm:pl-6 lg:pl-8"])},n(e.name),3),r("td",{class:i([a!==t.slots.length-1?"border-b border-gray-200 dark:border-gray-700":"","whitespace-nowrap px-3 py-4 text-sm text-gray-500 dark:text-gray-300"])},n(e.has_requirements?"Ja":"Nein"),3),r("td",{class:i([a!==t.slots.length-1?"border-b border-gray-200 dark:border-gray-700":"","whitespace-nowrap px-3 py-4 text-sm text-gray-500 dark:text-gray-300"])},[r("span",null,n(l.value[e.id]||0),1),e.maximum_participants?(o(),d("span",F," / "+n(e.maximum_participants),1)):u("",!0)],2),r("td",{class:i([a!==t.slots.length-1?"border-b border-gray-200 dark:border-gray-700":"","relative whitespace-nowrap py-4 pl-3 pr-4 text-right text-sm font-medium sm:pr-6 lg:pr-8"])},[C(p,{href:"/dashboard/tutor/slot/"+e.id},{default:j(()=>[f(" Anzeigen "),r("span",G,", "+n(e.name),1)]),_:2},1032,["href"])],2)]))),128))])])])])])])])}}}),O={class:"px-4 sm:px-6 lg:px-8"},S={class:"flex flex-col"},D={class:"-mx-4 -my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},H={class:"inline-block min-w-full py-2 align-middle"},J={class:"shadow-sm ring-1 ring-black ring-opacity-5"},U={class:"min-w-full border-separate",style:{"border-spacing":"0"}},K={class:"bg-gray-50 dark:bg-gray-900"},M=r("th",{scope:"col",class:"dark:bg-border-gray-700 border-b border-gray-300 bg-gray-50 bg-opacity-75 py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 backdrop-blur backdrop-filter dark:bg-gray-900 dark:text-gray-300 sm:pl-6 lg:pl-8"}," Name ",-1),P={key:0,scope:"col",class:"dark:bg-border-gray-700 border-b border-gray-300 bg-gray-50 bg-opacity-75 px-3 py-3.5 text-left text-sm font-semibold text-gray-900 backdrop-blur backdrop-filter dark:bg-gray-900 dark:text-gray-300"},Q=r("th",{scope:"col",class:"dark:bg-border-gray-700 border-b border-gray-300 bg-gray-50 bg-opacity-75 px-3 py-3.5 text-left text-sm font-semibold text-gray-900 backdrop-blur backdrop-filter dark:bg-gray-900 dark:text-gray-300"}," Teilnehmer ",-1),W=r("th",{scope:"col",class:"dark:bg-border-gray-700 border-b border-gray-300 bg-gray-50 bg-opacity-75 py-3.5 pl-3 pr-4 backdrop-blur backdrop-filter dark:bg-gray-900 dark:text-gray-300 sm:pr-6 lg:pr-8"},[r("span",{class:"sr-only"},"Anzeigen")],-1),X={class:"bg-white dark:bg-gray-800"},Y={class:"sr-only"},er=w({__name:"Table",props:{groups:{type:Object,required:!0},courses:{type:Array,required:!1}},setup(t){const{courses:g,groups:l}=t,x=e=>g?g.find(a=>a.id===e):null,y=E(()=>g?l.some(e=>e.course_id):!1),s=v({});l.forEach(e=>{var a;s.value[e.id]=((a=e.registrations)==null?void 0:a.length)||0});const p=setInterval(async()=>{const e=await fetch("/api/events/"+l[0].event_id+"/registrations-amount",{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}});if(e.ok){const a=await e.json();l.forEach(m=>{s.value[m.id]=a.groups[m.id]})}},5e3);return $(()=>{clearInterval(p)}),(e,a)=>{const m=A;return o(),d("div",O,[r("div",S,[r("div",D,[r("div",H,[r("div",J,[r("table",U,[r("thead",K,[r("tr",null,[M,y.value?(o(),d("th",P," Studiengang ")):u("",!0),Q,W])]),r("tbody",X,[(o(!0),d(k,null,T(t.groups,(c,h)=>{var _;return o(),d("tr",{key:c.id},[r("td",{class:i([h!==t.groups.length-1?"border-b border-gray-200 dark:border-gray-700":"","whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 dark:text-gray-100 sm:pl-6 lg:pl-8"])},n(c.name),3),y.value?(o(),d("td",{key:0,class:i([h!==t.groups.length-1?"border-b border-gray-200 dark:border-gray-700":"","whitespace-nowrap px-3 py-4 text-sm text-gray-500 dark:text-gray-300"])},[c.course_id&&x(c.course_id)?(o(),d(k,{key:0},[f(n((_=x(c.course_id))==null?void 0:_.name),1)],64)):u("",!0)],2)):u("",!0),r("td",{class:i([h!==t.groups.length-1?"border-b border-gray-200 dark:border-gray-700":"","whitespace-nowrap px-3 py-4 text-sm text-gray-500 dark:text-gray-300"])},n(s.value[c.id]||0),3),r("td",{class:i([h!==t.groups.length-1?"border-b border-gray-200 dark:border-gray-700":"","relative whitespace-nowrap py-4 pl-3 pr-4 text-right text-sm font-medium sm:pr-6 lg:pr-8"])},[C(m,{href:"/dashboard/tutor/group/"+c.id},{default:j(()=>[f(" Anzeigen "),r("span",Y,", "+n(c.name),1)]),_:2},1032,["href"])],2)])}),128))])])])])])])])}}});export{er as _,rr as a};
