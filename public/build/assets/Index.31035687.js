import{a as D,_ as q}from"./DashboardContent.40bbe9b8.js";import{_ as B}from"./Container.vue_vue_type_script_setup_true_lang.760174fd.js";import{_ as $}from"./Base.a4aae221.js";import{f as U,m as A,p as V,o,e as g,w as t,a as x,c as i,F as v,b as e,n as w,j as k,d as c,t as j,_ as I,g as S,i as E,k as H}from"./app.b834e386.js";import{_ as N,a as R,b as T}from"./Dt.64ce192b.js";import{_ as z}from"./DateTimeString.vue_vue_type_script_setup_true_lang.5419d956.js";import{_ as L,a as O}from"./Row.0a450704.js";import"./_plugin-vue_export-helper.cdc0426e.js";import"./H1.bd5ff1ae.js";const P={class:"-mt-px flex divide-x divide-gray-200 dark:divide-gray-700"},K={key:0,class:"flex w-0 flex-1"},G=x("span",null,"Abmelden",-1),J={class:"-ml-px flex w-0 flex-1"},M=x("span",null,"Info",-1),Q={key:1,class:"flex w-0 flex-1"},W=x("span",null,"Anmelden",-1),X=U({__name:"Card",props:{event:{type:Object,required:!0},registration:{type:Object,required:!1}},setup(n){const{event:m,registration:_}=n,C=A(()=>_!==void 0),u=A(()=>new Date(m.registration_to)<new Date),s=A(()=>{const a=new Date,y=new Date(m.registration_from),l=new Date(m.registration_to);return a>=y&&a<=l});return(a,y)=>{const l=D,d=N,h=z,b=R,F=T,f=V("FontAwesomeIcon"),p=I,r=$;return o(),g(r,null,{footer:t(()=>[x("div",P,[C.value?(o(),i(v,{key:0},[n.registration&&!n.registration.fulfils_requirements?(o(),i("div",K,[e(p,{theme:"none",disabled:u.value,href:`/dashboard/event/${n.event.id}/unregister`,rootClass:"flex w-0 flex-1",class:w([{"opacity-70 hover:cursor-not-allowed":u.value,"hover:cursor-pointer":!u.value},"group relative -mr-px inline-flex w-0 flex-1 items-center justify-center gap-2 rounded-bl-lg border border-transparent py-4 text-sm font-medium text-gray-700 dark:text-gray-300"])},{default:t(()=>[e(f,{class:w([{"group-hover:text-red-700":!u.value},"h-5 w-5 text-gray-400"]),icon:["fas","door-open"]},null,8,["class"]),G]),_:1},8,["disabled","href","class"])])):k("",!0),x("div",J,[e(p,{theme:"none",href:`/dashboard/event/${n.event.id}`,rootClass:"flex w-0 flex-1",class:"group relative inline-flex w-0 flex-1 items-center justify-center gap-2 rounded-br-lg border border-transparent py-4 text-sm font-medium text-gray-700 hover:cursor-pointer dark:text-gray-300"},{default:t(()=>[e(f,{class:"h-5 w-5 text-gray-400 group-hover:text-blue-500",icon:["fas","circle-info"]}),M]),_:1},8,["href"])])],64)):(o(),i("div",Q,[e(p,{theme:"none",disabled:!s.value,href:`/dashboard/event/${n.event.id}/register`,rootClass:"flex w-0 flex-1",class:w([{"opacity-70 hover:cursor-not-allowed":!s.value,"hover:cursor-pointer":s.value},"group relative -mr-px inline-flex w-0 flex-1 items-center justify-center gap-2 rounded-bl-lg border border-transparent py-4 text-sm font-medium text-gray-700 dark:text-gray-300"])},{default:t(()=>[e(f,{class:w([{"group-hover:text-green-700":s.value},"h-5 w-5 text-gray-400"]),icon:["fas","play"]},null,8,["class"]),W]),_:1},8,["disabled","href","class"])]))])]),default:t(()=>[e(l,null,{default:t(()=>[c(j(n.event.name),1)]),_:1}),e(F,null,{default:t(()=>[n.event.registration_from?(o(),i(v,{key:0},[e(d,null,{default:t(()=>[c("Anmeldung ab")]),_:1}),e(b,null,{default:t(()=>[e(h,{value:n.event.registration_from,withClockSuffix:!0},null,8,["value"])]),_:1})],64)):k("",!0),n.event.registration_to?(o(),i(v,{key:1},[e(d,null,{default:t(()=>[c("Anmeldung bis")]),_:1}),e(b,null,{default:t(()=>[e(h,{value:n.event.registration_to,withClockSuffix:!0},null,8,["value"])]),_:1})],64)):k("",!0)]),_:1})]),_:1})}}}),le=U({__name:"Index",props:{events:{type:Array,required:!0},registrations:{type:Array,required:!0},user:{type:Object,required:!0}},setup(n){const{registrations:m}=n,_=S({password:""}),C=async()=>{H.Inertia.post("/dashboard/login-tutor",_.value)},u=s=>m.find(a=>a.event_id===s.id);return(s,a)=>{const y=D,l=L,d=V("FormKit"),h=O,b=$,F=X,f=B,p=q;return o(),g(p,null,{title:t(()=>[c("Hallo "+j(n.user.firstname)+",",1)]),subtitle:t(()=>[c(" hier findest du eine \xDCbersicht \xFCber alle Veranstaltungen. ")]),default:t(()=>[n.user.rolesArray.some(r=>["admin","esa","stage tutor","tutor"].includes(r))?(o(),g(b,{key:0},{default:t(()=>[e(d,{type:"form",id:"tutor-login",onSubmit:C,actions:!1,modelValue:_.value,"onUpdate:modelValue":a[0]||(a[0]=r=>_.value=r)},{default:t(()=>[e(h,null,{default:t(()=>[e(l,null,{default:t(()=>[e(y,null,{default:t(()=>[c("Anmeldung zum gesch\xFCtzten Bereich")]),_:1})]),_:1}),e(l,null,{default:t(()=>[e(d,{type:"password",name:"password",label:"Tutorenpasswort",placeholder:"Passwort",validation:"required"})]),_:1}),e(l,null,{default:t(()=>[e(d,{type:"submit",label:"Anmelden"})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})):(o(),i(v,{key:1},[n.events.length?(o(),g(f,{key:0},{default:t(()=>[(o(!0),i(v,null,E(n.events,r=>(o(),g(F,{key:r.id,event:r,registration:u(r)},null,8,["event","registration"]))),128))]),_:1})):k("",!0)],64))]),_:1})}}});export{le as default};
